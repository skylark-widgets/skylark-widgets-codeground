/**
 * skylark-widgets-coder - The skylark code editor widget for showcasing html/css/js.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-coder/
 * @license MIT
 */
define(["skylark-langx/langx","../../Addon","../../util","../../addons"],function(e,t,n,s){"use strict";class a extends t{_init(){super._init();let e={html:{title:"HTML",classChecker:"coder-has-html"},css:{title:"CSS",classChecker:"coder-has-css"},js:{title:"JavaScript",classChecker:"coder-has-js"},console:{title:"Console",classChecker:"coder-plugin-console"}},t=[];for(let n in e)coder.$container.classList.contains(e[n].classChecker)&&t.push(coder.$container.querySelector(`.coder-pane-${n}`));this.resizablePanes=[];for(let n=0;n<t.length;n++){let s;for(let e=0;e<t[n].classList.length;e++)if(-1!==t[n].classList[e].indexOf("coder-pane-")){s=t[n].classList[e].replace("coder-pane-","");break}if(!s)continue;let a={container:t[n],expander:void 0};this.resizablePanes.push(a);let i=document.createElement("div");i.classList.add("coder-pane-title"),i.innerHTML=e[s].title||s;let r=t[n].firstElementChild;r.insertBefore(i,r.firstChild),n>0&&(a.expander=document.createElement("div"),a.expander.classList.add("coder-plugin-pen-expander"),a.expander.addEventListener("mousedown",this.startExpand.bind(this,coder)),r.insertBefore(a.expander,i))}}startExpand(e,t){let n=this.resizablePanes.filter(e=>e.expander===t.target).shift(),s=this.resizablePanes[this.resizablePanes.indexOf(n)-1],a=100/parseInt(window.getComputedStyle(n.container.parentNode).width,10);n.container.parentNode.style.display="none",n.startX=t.clientX,n.startWidth=parseFloat(window.getComputedStyle(n.container).width,10),s.startWidth=parseFloat(window.getComputedStyle(s.container).width,10),n.container.parentNode.style.display="",n.mousemove=this.doDrag.bind(this,n,s,a),n.mouseup=this.stopDrag.bind(this,n),document.addEventListener("mousemove",n.mousemove,!1),document.addEventListener("mouseup",n.mouseup,!1)}doDrag(e,t,n,s){let a=t.startWidth+(s.clientX-e.startX)*n,i=e.startWidth-(s.clientX-e.startX)*n;a>=10&&i>=10&&(e.container.style.maxWidth="none",t.container.style.maxWidth="none",t.container.style.width=`${a}%`,e.container.style.width=`${i}%`)}stopDrag(e,t){document.removeEventListener("mousemove",e.mousemove,!1),document.removeEventListener("mouseup",e.mouseup,!1)}static get categoryName(){return"general"}static get addonName(){return"pen"}}return s.general.pen=a,a});
//# sourceMappingURL=../../sourcemaps/addons/general/pen.js.map
