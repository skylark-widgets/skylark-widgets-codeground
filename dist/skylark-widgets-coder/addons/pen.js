/**
 * skylark-widgets-coder - The skylark code editor widget for showcasing html/css/js.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-coder/
 * @license MIT
 */
define(["skylark-langx/langx","../util","../Coder"],function(e,t,s){"use strict";class n{constructor(e,t){let s={html:{title:"HTML",classChecker:"coder-has-html"},css:{title:"CSS",classChecker:"coder-has-css"},js:{title:"JavaScript",classChecker:"coder-has-js"},console:{title:"Console",classChecker:"coder-plugin-console"}},n=[];for(let t in s)e.$container.classList.contains(s[t].classChecker)&&n.push(e.$container.querySelector(`.coder-pane-${t}`));this.resizablePanes=[];for(let t=0;t<n.length;t++){let i;for(let e=0;e<n[t].classList.length;e++)if(-1!==n[t].classList[e].indexOf("coder-pane-")){i=n[t].classList[e].replace("coder-pane-","");break}if(!i)continue;let a={container:n[t],expander:void 0};this.resizablePanes.push(a);let r=document.createElement("div");r.classList.add("coder-pane-title"),r.innerHTML=s[i].title||i;let o=n[t].firstElementChild;o.insertBefore(r,o.firstChild),t>0&&(a.expander=document.createElement("div"),a.expander.classList.add("coder-plugin-pen-expander"),a.expander.addEventListener("mousedown",this.startExpand.bind(this,e)),o.insertBefore(a.expander,r))}}startExpand(e,t){let s=this.resizablePanes.filter(e=>e.expander===t.target).shift(),n=this.resizablePanes[this.resizablePanes.indexOf(s)-1],i=100/parseInt(window.getComputedStyle(s.container.parentNode).width,10);s.container.parentNode.style.display="none",s.startX=t.clientX,s.startWidth=parseFloat(window.getComputedStyle(s.container).width,10),n.startWidth=parseFloat(window.getComputedStyle(n.container).width,10),s.container.parentNode.style.display="",s.mousemove=this.doDrag.bind(this,s,n,i),s.mouseup=this.stopDrag.bind(this,s),document.addEventListener("mousemove",s.mousemove,!1),document.addEventListener("mouseup",s.mouseup,!1)}doDrag(e,t,s,n){let i=t.startWidth+(n.clientX-e.startX)*s,a=e.startWidth-(n.clientX-e.startX)*s;i>=10&&a>=10&&(e.container.style.maxWidth="none",t.container.style.maxWidth="none",t.container.style.width=`${i}%`,e.container.style.width=`${a}%`)}stopDrag(e,t){document.removeEventListener("mousemove",e.mousemove,!1),document.removeEventListener("mouseup",e.mouseup,!1)}}return s.plugin("pen",n),n});
//# sourceMappingURL=../sourcemaps/addons/pen.js.map
