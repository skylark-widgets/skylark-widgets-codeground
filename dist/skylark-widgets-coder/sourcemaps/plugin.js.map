{"version":3,"sources":["plugin.js"],"names":["define","util","template","plugins","register","id","plugin","_id","push","init","this","_get","forEach","Plugin","pluginName","pluginOptions","name","options","pluginIndex","Error","find","addClass","pluginClass"],"mappings":";;;;;;;AAAAA,QACI,SACA,cACD,SAAUC,EAAMC,GACf,aACA,IAAIC,KA8BJ,OACIC,SArBJ,SAAkBC,EAAIC,GAClBA,EAAOC,IAAMF,EACbF,EAAQK,KAAKF,IAoBbG,KAlBJ,WACIC,KAAKC,KAAK,WAAWR,QAAQS,QAAQN,IACjC,IAAIO,EACAC,EACAC,KACkB,iBAAXT,EACPQ,EAAaR,EACY,iBAAXA,IACdQ,EAAaR,EAAOU,KACpBD,EAAgBT,EAAOW,aAE3BJ,EAxBR,SAAcR,GACV,IAAK,IAAIa,KAAef,EAAS,CAC7B,IAAIG,EAASH,EAAQe,GACrB,GAAIZ,EAAOC,MAAQF,EACf,OAAOC,EAGf,MAAM,IAAIa,gBAAiBd,wBAiBde,CAAKN,GACdJ,KAAKC,KAAK,WAAWL,GAAU,IAAIO,EAAOH,KAAMK,GAChDd,EAAKoB,SAASX,KAAKC,KAAK,cAAeT,EAASoB,YAAYR","file":"../plugin.js","sourcesContent":["define([\n    './util',\n    './template'\n], function (util, template) {\n    'use strict';\n    var plugins = [];\n    function find(id) {\n        for (let pluginIndex in plugins) {\n            let plugin = plugins[pluginIndex];\n            if (plugin._id === id) {\n                return plugin;\n            }\n        }\n        throw new Error(`Plugin ${ id } is not registered.`);\n    }\n    function register(id, plugin) {\n        plugin._id = id;\n        plugins.push(plugin);\n    }\n    function init() {\n        this._get('options').plugins.forEach(plugin => {\n            let Plugin;\n            let pluginName;\n            let pluginOptions = {};\n            if (typeof plugin === 'string') {\n                pluginName = plugin;\n            } else if (typeof plugin === 'object') {\n                pluginName = plugin.name;\n                pluginOptions = plugin.options || {};\n            }\n            Plugin = find(pluginName);\n            this._get('plugins')[plugin] = new Plugin(this, pluginOptions);\n            util.addClass(this._get('$container'), template.pluginClass(pluginName));\n        });\n    }\n    return {\n        register,\n        init\n    };\n});"]}