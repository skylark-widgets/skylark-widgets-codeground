{"version":3,"sources":["plugins/less.js"],"names":["define","util","[object Object]","coder","options","extend","window","less","$container","querySelector","innerHTML","on","this","change","bind","params","type","file","indexOf","callback","isLess","render","content","err","res","css"],"mappings":";;;;;;;AAAAA,QAAQ,WAAY,SAAUC,GAC1B,aACA,aACIC,YAAYC,EAAOC,GAEfA,EAAUH,EAAKI,OAAOD,WACK,IAAhBE,OAAOC,OAGlBJ,EAAMK,WAAWC,cAAc,4BAA4BC,UAAY,OACvEP,EAAMQ,GAAG,SAAUC,KAAKC,OAAOC,KAAKF,MANrB,KAQnBV,OAAOa,GACH,MAAoB,QAAhBA,EAAOC,QAG8B,IAAlCD,EAAOE,KAAKC,QAAQ,UAAmC,KAAhBH,EAAOE,MAEzDf,OAAOa,EAAQI,GACPP,KAAKQ,OAAOL,GACZT,OAAOC,KAAKc,OAAON,EAAOO,QAASV,KAAKR,QAAS,CAACmB,EAAKC,KACnD,GAAID,EACA,OAAOJ,EAASI,EAAKR,GAErBA,EAAOO,QAAUE,EAAIC,IAEzBN,EAAS,KAAMJ,KAGnBI,EAAS,KAAMJ","file":"../../plugins/less.js","sourcesContent":["define(['../util'], function (util) {\n    'use strict';\n    return class PluginLess {\n        constructor(coder, options) {\n            var priority = 20;\n            options = util.extend(options, {});\n            if (typeof window.less === 'undefined') {\n                return;\n            }\n            coder.$container.querySelector('a[data-coder-type=\"css\"]').innerHTML = 'Less';\n            coder.on('change', this.change.bind(this), priority);\n        }\n        isLess(params) {\n            if (params.type !== 'css') {\n                return false;\n            }\n            return params.file.indexOf('.less') !== -1 || params.file === '';\n        }\n        change(params, callback) {\n            if (this.isLess(params)) {\n                window.less.render(params.content, this.options, (err, res) => {\n                    if (err) {\n                        return callback(err, params);\n                    } else {\n                        params.content = res.css;\n                    }\n                    callback(null, params);\n                });\n            } else {\n                callback(null, params);\n            }\n        }\n    };\n});"]}