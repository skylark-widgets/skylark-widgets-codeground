/**
 * skylark-ui-coder - The skylark coder widget
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-ui-coder/
 * @license MIT
 */
define(["../../Coder"],function(e){function n(e,n,o){var t,i=e.getWrapperElement();return t=i.appendChild(document.createElement("div")),o?t.className="CodeMirror-dialog CodeMirror-dialog-bottom":t.className="CodeMirror-dialog CodeMirror-dialog-top","string"==typeof n?t.innerHTML=n:t.appendChild(n),t}function o(e,n){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=n}e.defineExtension("openDialog",function(t,i,u){function r(e){if("string"==typeof e)s.value=e;else{if(c)return;c=!0,a.parentNode.removeChild(a),f.focus(),u.onClose&&u.onClose(a)}}u||(u={}),o(this,null);var l,a=n(this,t,u.bottom),c=!1,f=this,s=a.getElementsByTagName("input")[0];return s?(s.focus(),u.value&&(s.value=u.value,u.selectValueOnOpen!==!1&&s.select()),u.onInput&&e.on(s,"input",function(e){u.onInput(e,s.value,r)}),u.onKeyUp&&e.on(s,"keyup",function(e){u.onKeyUp(e,s.value,r)}),e.on(s,"keydown",function(n){u&&u.onKeyDown&&u.onKeyDown(n,s.value,r)||((27==n.keyCode||u.closeOnEnter!==!1&&13==n.keyCode)&&(s.blur(),e.e_stop(n),r()),13==n.keyCode&&i(s.value,n))}),u.closeOnBlur!==!1&&e.on(s,"blur",r)):(l=a.getElementsByTagName("button")[0])&&(e.on(l,"click",function(){r(),f.focus()}),u.closeOnBlur!==!1&&e.on(l,"blur",r),l.focus()),r}),e.defineExtension("openConfirm",function(t,i,u){function r(){c||(c=!0,l.parentNode.removeChild(l),f.focus())}o(this,null);var l=n(this,t,u&&u.bottom),a=l.getElementsByTagName("button"),c=!1,f=this,s=1;a[0].focus();for(var d=0;d<a.length;++d){var p=a[d];!function(n){e.on(p,"click",function(o){e.e_preventDefault(o),r(),n&&n(f)})}(i[d]),e.on(p,"blur",function(){--s,setTimeout(function(){s<=0&&r()},200)}),e.on(p,"focus",function(){++s})}}),e.defineExtension("openNotification",function(t,i){function u(){a||(a=!0,clearTimeout(r),l.parentNode.removeChild(l))}o(this,u);var r,l=n(this,t,i&&i.bottom),a=!1,c=i&&"undefined"!=typeof i.duration?i.duration:5e3;return e.on(l,"click",function(n){e.e_preventDefault(n),u()}),c&&(r=setTimeout(u,c)),u})});
//# sourceMappingURL=../../sourcemaps/addon/dialog/dialog.js.map
