/**
 * skylark-ui-coder - The skylark coder widget
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-ui-coder/
 * @license MIT
 */
define(["../../Coder"],function(e){"use strict";e.defineMode("tiddlywiki",function(){function e(e,t,r){return t.tokenize=r,r(e,t)}function t(t,m){var z=t.sol(),x=t.peek();if(m.block=!1,z&&/[<\/\*{}\-]/.test(x)){if(t.match(w))return m.block=!0,e(t,m,i);if(t.match(d))return"quote";if(t.match(h)||t.match(s))return"comment";if(t.match(b)||t.match(p)||t.match($)||t.match(v))return"comment";if(t.match(k))return"hr"}if(t.next(),z&&/[\/\*!#;:>|]/.test(x)){if("!"==x)return t.skipToEnd(),"header";if("*"==x)return t.eatWhile("*"),"comment";if("#"==x)return t.eatWhile("#"),"comment";if(";"==x)return t.eatWhile(";"),"comment";if(":"==x)return t.eatWhile(":"),"comment";if(">"==x)return t.eatWhile(">"),"quote";if("|"==x)return"header"}if("{"==x&&t.match(/\{\{/))return e(t,m,i);if(/[hf]/i.test(x)&&/[ti]/i.test(t.peek())&&t.match(/\b(ttps?|tp|ile):\/\/[\-A-Z0-9+&@#\/%?=~_|$!:,.;]*[A-Z0-9+&@#\/%=~_|$]/i))return"link";if('"'==x)return"string";if("~"==x)return"brace";if(/[\[\]]/.test(x)&&t.match(x))return"brace";if("@"==x)return t.eatWhile(l),"link";if(/\d/.test(x))return t.eatWhile(/\d/),"number";if("/"==x){if(t.eat("%"))return e(t,m,r);if(t.eat("/"))return e(t,m,a)}if("_"==x&&t.eat("_"))return e(t,m,u);if("-"==x&&t.eat("-")){if(" "!=t.peek())return e(t,m,o);if(" "==t.peek())return"brace"}return"'"==x&&t.eat("'")?e(t,m,n):"<"==x&&t.eat("<")?e(t,m,f):(t.eatWhile(/[\w\$_]/),c.propertyIsEnumerable(t.current())?"keyword":null)}function r(e,r){for(var n,i=!1;n=e.next();){if("/"==n&&i){r.tokenize=t;break}i="%"==n}return"comment"}function n(e,r){for(var n,i=!1;n=e.next();){if("'"==n&&i){r.tokenize=t;break}i="'"==n}return"strong"}function i(e,r){var n=r.block;return n&&e.current()?"comment":!n&&e.match(x)?(r.tokenize=t,"comment"):n&&e.sol()&&e.match(z)?(r.tokenize=t,"comment"):(e.next(),"comment")}function a(e,r){for(var n,i=!1;n=e.next();){if("/"==n&&i){r.tokenize=t;break}i="/"==n}return"em"}function u(e,r){for(var n,i=!1;n=e.next();){if("_"==n&&i){r.tokenize=t;break}i="_"==n}return"underlined"}function o(e,r){for(var n,i=!1;n=e.next();){if("-"==n&&i){r.tokenize=t;break}i="-"==n}return"strikethrough"}function f(e,r){if("<<"==e.current())return"macro";var n=e.next();return n?">"==n&&">"==e.peek()?(e.next(),r.tokenize=t,"macro"):(e.eatWhile(/[\w\$_]/),m.propertyIsEnumerable(e.current())?"keyword":null):(r.tokenize=t,null)}var c={},m={allTags:!0,closeAll:!0,list:!0,newJournal:!0,newTiddler:!0,permaview:!0,saveChanges:!0,search:!0,slider:!0,tabs:!0,tag:!0,tagging:!0,tags:!0,tiddler:!0,timeline:!0,today:!0,version:!0,option:!0,"with":!0,filter:!0},l=/[\w_\-]/i,k=/^\-\-\-\-+$/,h=/^\/\*\*\*$/,s=/^\*\*\*\/$/,d=/^<<<$/,b=/^\/\/\{\{\{$/,p=/^\/\/\}\}\}$/,$=/^<!--\{\{\{-->$/,v=/^<!--\}\}\}-->$/,w=/^\{\{\{$/,z=/^\}\}\}$/,x=/.*?\}\}\}/;return{startState:function(){return{tokenize:t}},token:function(e,t){if(e.eatSpace())return null;var r=t.tokenize(e,t);return r}}}),e.defineMIME("text/x-tiddlywiki","tiddlywiki")});
//# sourceMappingURL=../../sourcemaps/mode/tiddlywiki/tiddlywiki.js.map
