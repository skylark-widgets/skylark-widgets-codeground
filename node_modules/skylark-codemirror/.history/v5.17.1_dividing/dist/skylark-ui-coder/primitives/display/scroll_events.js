/**
 * skylark-ui-coder - The skylark coder widget
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-ui-coder/
 * @license MIT
 */
define(["../util/browser","../CoderCtor"],function(l,e){e.partial({setScrollTop:function(e){var t=this;Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,l.gecko||t.updateDisplaySimple({top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),l.gecko&&t.updateDisplaySimple(),t.startWorker(100))},setScrollLeft:function(l,e){var t=this;(e?l==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-l)<2)||(l=Math.min(l,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=l,t.alignHorizontally(),t.display.scroller.scrollLeft!=l&&(t.display.scroller.scrollLeft=l),t.display.scrollbars.setScrollLeft(l))},onScrollWheel:function(l){var e=this,a=o(l),i=a.x,c=a.y,s=e.display,h=s.scroller,n=h.scrollWidth>h.clientWidth,p=h.scrollHeight>h.clientHeight;if(i&&n||c&&p){if(c&&mac&&webkit)l:for(var d=l.target,f=s.view;d!=h;d=d.parentNode)for(var u=0;u<f.length;u++)if(f[u].node==d){e.display.currentWheelTarget=d;break l}if(i&&!gecko&&!presto&&null!=r)return c&&p&&setScrollTop(e,Math.max(0,Math.min(h.scrollTop+c*r,h.scrollHeight-h.clientHeight))),setScrollLeft(e,Math.max(0,Math.min(h.scrollLeft+i*r,h.scrollWidth-h.clientWidth))),(!c||c&&p)&&e_preventDefault(l),void(s.wheelStartX=null);if(c&&null!=r){var w=c*r,S=e.doc.scrollTop,y=S+s.wrapper.clientHeight;w<0?S=Math.max(0,S+w-50):y=Math.min(e.doc.height,y+w+50),updateDisplaySimple(e,{top:S,bottom:y})}t<20&&(null==s.wheelStartX?(s.wheelStartX=h.scrollLeft,s.wheelStartY=h.scrollTop,s.wheelDX=i,s.wheelDY=c,setTimeout(function(){if(null!=s.wheelStartX){var l=h.scrollLeft-s.wheelStartX,e=h.scrollTop-s.wheelStartY,o=e&&s.wheelDY&&e/s.wheelDY||l&&s.wheelDX&&l/s.wheelDX;s.wheelStartX=s.wheelStartY=null,o&&(r=(r*t+o)/(t+1),++t)}},200)):(s.wheelDX+=i,s.wheelDY+=c))}}});var t=0,r=null;l.ie?r=-.53:l.gecko?r=15:l.chrome?r=-.7:l.safari&&(r=-1/3);var o=function(l){var e=l.wheelDeltaX,t=l.wheelDeltaY;return null==e&&l.detail&&l.axis==l.HORIZONTAL_AXIS&&(e=l.detail),null==t&&l.detail&&l.axis==l.VERTICAL_AXIS?t=l.detail:null==t&&(t=l.wheelDelta),{x:e,y:t}};CodeMirror.wheelEventPixels=function(l){var e=o(l);return e.x*=r,e.y*=r,e}});
//# sourceMappingURL=../../sourcemaps/primitives/display/scroll_events.js.map
