/**
 * skylark-ui-coder - The skylark coder widget
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-ui-coder/
 * @license MIT
 */
define(["../CoderCtor"],function(e){function t(e){for(var t,r,l,o,n=e.split(/-(?!$)/),e=n[n.length-1],i=0;i<n.length-1;i++){var a=n[i];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);l=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),l&&(e="Shift-"+e),e}function r(e){return"string"==typeof e?l[e]:e}var l=CodeMirror.keyMap={};l.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},l.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},l.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},l.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},l["default"]=mac?l.macDefault:l.pcDefault,CodeMirror.normalizeKeyMap=function(e){var r={};for(var l in e)if(e.hasOwnProperty(l)){var o=e[l];if(/^(name|fallthrough|(de|at)tach)$/.test(l))continue;if("..."==o){delete e[l];continue}for(var n=map(l.split(" "),t),i=0;i<n.length;i++){var a,d;i==n.length-1?(d=n.join(" "),a=o):(d=n.slice(0,i+1).join(" "),a="...");var f=r[d];if(f){if(f!=a)throw new Error("Inconsistent bindings for "+d)}else r[d]=a}delete e[l]}for(var C in r)e[C]=r[C];return e};var o=CodeMirror.lookupKey=function(e,t,l,n){t=r(t);var i=t.call?t.call(e,n):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&l(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return o(e,t.fallthrough,l,n);for(var a=0;a<t.fallthrough.length;a++){var d=o(e,t.fallthrough[a],l,n);if(d)return d}}};CodeMirror.isModifierKey=function(e){var t="string"==typeof e?e:keyNames[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},CodeMirror.keyName=function(e,t){if(presto&&34==e.keyCode&&e["char"])return!1;var r=keyNames[e.keyCode],l=r;return null!=l&&!e.altGraphKey&&(e.altKey&&"Alt"!=r&&(l="Alt-"+l),(flipCtrlCmd?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(l="Ctrl-"+l),(flipCtrlCmd?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(l="Cmd-"+l),!t&&e.shiftKey&&"Shift"!=r&&(l="Shift-"+l),l)}});
//# sourceMappingURL=../../sourcemaps/primitives/input/keymap.js.map
