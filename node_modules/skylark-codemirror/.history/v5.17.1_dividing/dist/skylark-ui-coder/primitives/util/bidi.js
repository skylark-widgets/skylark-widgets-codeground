/**
 * skylark-ui-coder - The skylark coder widget
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-ui-coder/
 * @license MIT
 */
define(["../CoderCtor"],function(r){(function(){function r(r){return r<=247?b.charAt(r):1424<=r&&r<=1524?"R":1536<=r&&r<=1773?t.charAt(r-1536):1774<=r&&r<=2220?"r":8192<=r&&r<=8203?"w":8204==r?"b":"L"}function L(r,L,b){this.level=r,this.from=L,this.to=b}var b="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,N=/[stwN]/,m=/[LRr]/,n=/[Lb1n]/,s=/[1n]/,f="L";return function(b){if(!e.test(b))return!1;for(var t,o=b.length,l=[],v=0;v<o;++v)l.push(t=r(b.charCodeAt(v)));for(var v=0,a=f;v<o;++v){var t=l[v];"m"==t?l[v]=a:a=t}for(var v=0,u=f;v<o;++v){var t=l[v];"1"==t&&"r"==u?l[v]="n":m.test(t)&&(u=t,"r"==t&&(l[v]="R"))}for(var v=1,a=l[0];v<o-1;++v){var t=l[v];"+"==t&&"1"==a&&"1"==l[v+1]?l[v]="1":","!=t||a!=l[v+1]||"1"!=a&&"n"!=a||(l[v]=a),a=t}for(var v=0;v<o;++v){var t=l[v];if(","==t)l[v]="N";else if("%"==t){for(var h=v+1;h<o&&"%"==l[h];++h);for(var i=v&&"!"==l[v-1]||h<o&&"1"==l[h]?"1":"N",c=v;c<h;++c)l[c]=i;v=h-1}}for(var v=0,u=f;v<o;++v){var t=l[v];"L"==u&&"1"==t?l[v]="L":m.test(t)&&(u=t)}for(var v=0;v<o;++v)if(N.test(l[v])){for(var h=v+1;h<o&&N.test(l[h]);++h);for(var w="L"==(v?l[v-1]:f),p="L"==(h<o?l[h]:f),i=w||p?"L":"R",c=v;c<h;++c)l[c]=i;v=h-1}for(var g,R=[],v=0;v<o;)if(n.test(l[v])){var d=v;for(++v;v<o&&n.test(l[v]);++v);R.push(new L(0,d,v))}else{var A=v,C=R.length;for(++v;v<o&&"L"!=l[v];++v);for(var c=A;c<v;)if(s.test(l[c])){A<c&&R.splice(C,0,new L(1,A,c));var $=c;for(++c;c<v&&s.test(l[c]);++c);R.splice(C,0,new L(2,$,c)),A=c}else++c;A<v&&R.splice(C,0,new L(1,A,v))}return 1==R[0].level&&(g=b.match(/^\s+/))&&(R[0].from=g[0].length,R.unshift(new L(0,0,g[0].length))),1==lst(R).level&&(g=b.match(/\s+$/))&&(lst(R).to-=g[0].length,R.push(new L(0,o-g[0].length,o))),2==R[0].level&&R.unshift(new L(1,R[0].to,R[0].to)),R[0].level!=lst(R).level&&R.push(new L(R[0].level,o,o)),R}})()});
//# sourceMappingURL=../../sourcemaps/primitives/util/bidi.js.map
