{"version":3,"sources":["primitives/util/browser.js"],"names":["define","CoderCtor","userAgent","navigator","platform","gecko","test","ie_upto10","ie_11up","exec","ie","ie_version","document","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","mobile","mac","chromeOS","windows","presto_version","match","Number"],"mappings":";;;;;;;AAAAA,QACE,gBACA,SAASC,GAET,GAIIC,GAAYC,UAAUD,UACtBE,EAAWD,UAAUC,SAErBC,EAAQ,aAAaC,KAAKJ,GAC1BK,EAAY,UAAUD,KAAKJ,GAC3BM,EAAU,wCAAwCC,KAAKP,GACvDQ,EAAKH,GAAaC,EAClBG,EAAaD,IAAOH,EAAYK,SAASC,cAAgB,EAAIL,EAAQ,IACrEM,EAAS,WAAWR,KAAKJ,GACzBa,EAAWD,GAAU,eAAeR,KAAKJ,GACzCc,EAAS,WAAWV,KAAKJ,GACzBe,EAAS,UAAUX,KAAKJ,GACxBgB,EAAS,iBAAiBZ,KAAKH,UAAUgB,QACzCC,EAAqB,+BAA+Bd,KAAKJ,GACzDmB,EAAU,YAAYf,KAAKJ,GAE3BoB,EAAM,cAAchB,KAAKJ,IAAc,cAAcI,KAAKJ,GAE1DqB,EAASD,GAAO,2DAA2DhB,KAAKJ,GAChFsB,EAAMF,GAAO,MAAMhB,KAAKF,GACxBqB,EAAW,WAAWnB,KAAKJ,GAC3BwB,EAAU,OAAOpB,KAAKF,GAEtBuB,EAAiBV,GAAUf,EAAU0B,MAAM,sBAC3CD,KAAgBA,EAAiBE,OAAOF,EAAe,KACvDA,GAAkBA,GAAkB,KAAMV,GAAS,EAAOH,GAAS,EASvE,QACET,MAAQA,EACRE,UAAYA,EACZC,QAAUA,EACVG,WAAaA,EACbG,OAASA,EACTC,SAAWA,EACXC,OAASA,EACTC,OAASA,EACTC,OAASA,EACTE,mBAAqBA,EACrBC,QAAUA,EACVC,IAAKA,EACLC,OAASA,EACTC,IAAMA,EACNC,SAAWA,EACXC,QAAUA,EACVC,eAAiBA","file":"../../../primitives/util/browser.js","sourcesContent":["define([\r\n  \"../CoderCtor\"\r\n],function(CoderCtor) {\r\n  // BROWSER SNIFFING\r\n  var exports = {};\r\n\r\n  // Kludges for bugs and behavior differences that can't be feature\r\n  // detected are enabled based on userAgent etc sniffing.\r\n  var userAgent = navigator.userAgent;\r\n  var platform = navigator.platform;\r\n\r\n  var gecko = /gecko\\/\\d/i.test(userAgent);\r\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\r\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\r\n  var ie = ie_upto10 || ie_11up;\r\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : ie_11up[1]);\r\n  var webkit = /WebKit\\//.test(userAgent);\r\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\r\n  var chrome = /Chrome\\//.test(userAgent);\r\n  var presto = /Opera\\//.test(userAgent);\r\n  var safari = /Apple Computer/.test(navigator.vendor);\r\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\r\n  var phantom = /PhantomJS/.test(userAgent);\r\n\r\n  var ios = /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\r\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\r\n  var mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\r\n  var mac = ios || /Mac/.test(platform);\r\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\r\n  var windows = /win/i.test(platform);\r\n\r\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\r\n  if (presto_version) presto_version = Number(presto_version[1]);\r\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\r\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\r\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\r\n  var captureRightClick = gecko || (ie && ie_version >= 9);\r\n\r\n  // Optimize some code when these features are not used.\r\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\r\n\r\n\r\n  return {\r\n    gecko : gecko,\r\n    ie_upto10 : ie_upto10,\r\n    ie_11up : ie_11up,\r\n    ie_version : ie_version,\r\n    webkit : webkit,\r\n    qtwebkit : qtwebkit,\r\n    chrome : chrome,\r\n    presto : presto,\r\n    safari : safari,\r\n    mac_geMountainLion : mac_geMountainLion,\r\n    phantom : phantom,\r\n    ios :ios,\r\n    mobile : mobile,\r\n    mac : mac,\r\n    chromeOS : chromeOS,\r\n    windows : windows,\r\n    presto_version : presto_version\r\n\r\n  };\r\n});\r\n"]}