/**
 * skylark-langx-emitter - The skylark JavaScript language extension library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(t,n){var e=n.define,r=n.require,i="function"==typeof e&&e.amd,s=!i&&"undefined"!=typeof exports;if(!i&&!e){var a={};e=n.define=function(t,n,e){"function"==typeof e?(a[t]={factory:e,deps:n.map(function(n){return function(t,n){if("."!==t[0])return t;var e=n.split("/"),r=t.split("/");e.pop();for(var i=0;i<r.length;i++)"."!=r[i]&&(".."==r[i]?e.pop():e.push(r[i]));return e.join("/")}(n,t)}),resolved:!1,exports:null},r(t)):a[t]={factory:null,resolved:!0,exports:e}},r=n.require=function(t){if(!a.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var e=a[t];if(!e.resolved){var i=[];e.deps.forEach(function(t){i.push(r(t))}),e.exports=e.factory.apply(n,i)||null,e.resolved=!0}return e.exports}}if(!e)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,n){t("skylark-langx-emitter/Emitter",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects","skylark-langx-arrays","skylark-langx-klass"],function(t,n,e,r,i){var s=Array.prototype.slice,a=r.compact,o=n.isDefined,l=n.isPlainObject,u=n.isFunction,f=n.isString,h=n.isEmptyObject,c=e.mixin,v=e.safeMixin;function p(t){var n=(""+t).split(".");return{name:n[0],ns:n.slice(1).join(" ")}}var d=i({on:function(t,n,e,r,i,s){var a=this,o=this._hub||(this._hub={});return l(t)?(i=r,each(t,function(t,r){a.on(t,n,e,r,i,s)}),this):(f(n)||u(r)||(i=r,r=e,e=n,n=void 0),u(e)&&(i=r,r=e,e=null),f(t)&&(t=t.split(/\s/)),t.forEach(function(t){var a=p(t),l=a.name,u=a.ns;(o[l]||(o[l]=[])).push({fn:r,selector:n,data:e,ctx:i,ns:u,one:s})}),this)},one:function(t,n,e,r,i){return this.on(t,n,e,r,i,1)},emit:function(t){if(!this._hub)return this;var n=this;f(t)&&(t=new CustomEvent(t)),Object.defineProperty(t,"target",{value:this});var e=s.call(arguments,1);return e=o(e)?[t].concat(e):[t],[t.type||t.name,"all"].forEach(function(r){var i=p(r),s=i.name,o=i.ns,l=n._hub[s];if(l){for(var u=l.length,f=!1,h=0;h<u;h++){var v=l[h];(!o||v.ns&&v.ns.startsWith(o))&&(t.data?v.data&&(t.data=c({},v.data,t.data)):t.data=v.data||null,v.fn.apply(v.ctx,e),v.one&&(l[h]=null,f=!0))}f&&(n._hub[r]=a(l))}}),this},listened:function(t){var n=(this._hub||(this._events={}))[t]||[];return n.length>0},listenTo:function(t,n,e,r){if(!t)return this;f(e)&&(e=this[e]),r?t.one(n,e,this):t.on(n,e,this);for(var i,s=this._listeningTo||(this._listeningTo=[]),a=0;a<s.length;a++)if(s[a].obj==t){i=s[a];break}i||s.push(i={obj:t,events:{}});var o=i.events,l=o[n]=o[n]||[];return-1==l.indexOf(e)&&l.push(e),this},listenToOnce:function(t,n,e){return this.listenTo(t,n,e,1)},off:function(t,n){var e=this._hub||(this._hub={});return f(t)&&(t=t.split(/\s/)),t.forEach(function(t){var r=p(t),i=r.name,s=r.ns,a=e[i];if(a){var o=[];if(n||s)for(var l=0,u=a.length;l<u;l++)n&&a[l].fn!==n&&a[l].fn._!==n?o.push(a[l]):!s||a[l].ns&&0==a[l].ns.indexOf(s)||o.push(a[l]);o.length?e[i]=o:delete e[i]}}),this},unlistenTo:function(t,n,e){var r=this._listeningTo;if(!r)return this;for(var i=0;i<r.length;i++){var s=r[i];if(!t||t==s.obj){var o=s.events;for(var l in o)if(!n||n==l){for(var u=o[l],f=0;f<u.length;f++)e&&e!=u[i]||(s.obj.off(l,u[i],this),u[i]=null);u=o[l]=a(u),h(u)&&(o[l]=null)}h(o)&&(r[i]=null)}}return r=this._listeningTo=a(r),h(r)&&(this._listeningTo=null),this}});return d.prototype.trigger=d.prototype.emit,d.createEvent=function(t,n){var e=new CustomEvent(t,n);return v(e,n)},t.attach("langx.Emitter",d)}),t("skylark-langx-emitter/Evented",["skylark-langx-ns/ns","./Emitter"],function(t,n){return t.attach("langx.Evented",n)}),t("skylark-langx-emitter/main",["./Emitter","./Evented"],function(t){return t}),t("skylark-langx-emitter",["skylark-langx-emitter/main"],function(t){return t})}(e),!i){var o=r("skylark-langx/skylark");s?module.exports=o:n.skylarkjs=o}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-langx-emitter.js.map
